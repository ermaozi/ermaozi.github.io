<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.19" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><meta property="og:url" content="https://www.ermao.net/article/b06gglcq/"><meta property="og:title" content="docker éƒ¨ç½² aria2"><meta property="og:description" content="docker éƒ¨ç½² Aria2 ä¸‹è½½å™¨ï¼Œå¹¶åœ¨æµè§ˆå™¨ç«¯é…ç½® Aria2 Explorer ä¸€å°æ®µåºŸè¯ æˆ‘å®¶æ‰€åœ¨çš„å°åŒºè¿è¥å•†ä¸æä¾›å…¬ç½‘ipï¼Œæ‰€ä»¥åªå¥½ä½¿ç”¨å†…ç½‘ç©¿é€çš„æ–¹å¼ä»å…¬ç½‘è®¿é—®å®¶ä¸­æœåŠ¡ã€‚ æŸæ—¥æƒ³èµ·æ¥æŸ¥çœ‹äº†ä¸€ä¸‹ nps æœåŠ¡ç«¯çš„è®¾å¤‡ç›‘æ§ï¼Œ90% çš„ CPU ä½¿ç”¨ç‡å“äº†æˆ‘ä¸€è·³ã€‚ ç»æ’æŸ¥ï¼ŒåŸæ¥æ˜¯ nps æœåŠ¡èµ„æºå ç”¨è¿‡é«˜ã€‚ alt text é‚£ä¹ˆä¸ºä»€ä¹ˆä¸€ä¸ªå°å°çš„..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-08-31T08:12:52.000Z"><meta property="article:tag" content="nas"><meta property="article:tag" content="aria2"><meta property="article:tag" content="docker"><meta property="article:tag" content="websocket"><meta property="article:modified_time" content="2024-08-31T08:12:52.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"docker éƒ¨ç½² aria2","image":[""],"dateModified":"2024-08-31T08:12:52.000Z","author":[]}</script><link rel="icon" href="/images/favicon.ico"><meta name="keywords" content="æœºåœº,ä¾¿å®œæœºåœº,æ¢¯å­,vpn,ç§‘å­¦ä¸Šç½‘,ç¿»å¢™,clash,trojan,python,æœåŠ¡å™¨"><meta name="description" content="å¼€å‘ã€è¿ç»´ã€ç§‘å­¦ä¸Šç½‘ç›¸å…³å†…å®¹ï¼Œæ‰“ç ´æŠ€æœ¯å£å’"><title>docker éƒ¨ç½² aria2</title><link rel="preload" href="/assets/style-DRhT0Swn.css" as="style"><link rel="stylesheet" href="/assets/style-DRhT0Swn.css"><link rel="modulepreload" href="/assets/app-_Bzduk7I.js"><link rel="modulepreload" href="/assets/index.html-C0g32Z0X.js"><link rel="prefetch" href="/assets/index.html-Dic13D4j.js" as="script"><link rel="prefetch" href="/assets/index.html-CBLCJ_sB.js" as="script"><link rel="prefetch" href="/assets/index.html-DHyOhRfR.js" as="script"><link rel="prefetch" href="/assets/index.html-QJe1ERIi.js" as="script"><link rel="prefetch" href="/assets/index.html-BG3zW0RX.js" as="script"><link rel="prefetch" href="/assets/index.html-CGe1Q6jS.js" as="script"><link rel="prefetch" href="/assets/index.html-DJOhSbya.js" as="script"><link rel="prefetch" href="/assets/index.html-BTGMawu5.js" as="script"><link rel="prefetch" href="/assets/index.html-CewJwAa_.js" as="script"><link rel="prefetch" href="/assets/index.html-CTECifby.js" as="script"><link rel="prefetch" href="/assets/index.html-CtqZ0-cd.js" as="script"><link rel="prefetch" href="/assets/index.html-MBk_Vyf8.js" as="script"><link rel="prefetch" href="/assets/index.html-De1nhyNU.js" as="script"><link rel="prefetch" href="/assets/index.html-Db5a_ddq.js" as="script"><link rel="prefetch" href="/assets/index.html-DOswyZrl.js" as="script"><link rel="prefetch" href="/assets/index.html-BTaQP39c.js" as="script"><link rel="prefetch" href="/assets/index.html-Bdhf83JM.js" as="script"><link rel="prefetch" href="/assets/index.html-fV_a7fA6.js" as="script"><link rel="prefetch" href="/assets/index.html-BR0foMJE.js" as="script"><link rel="prefetch" href="/assets/index.html-2fZeQnSu.js" as="script"><link rel="prefetch" href="/assets/index.html-Be32K-fn.js" as="script"><link rel="prefetch" href="/assets/index.html-BpZrU1qe.js" as="script"><link rel="prefetch" href="/assets/404.html-hh6sz5Lc.js" as="script"><link rel="prefetch" href="/assets/index.html-DuDvVDsj.js" as="script"><link rel="prefetch" href="/assets/index.html-Ba9K5pbC.js" as="script"><link rel="prefetch" href="/assets/index.html-iMpWSRnk.js" as="script"><link rel="prefetch" href="/assets/index.html-DwCA4e6U.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-CMg0yb1C.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-BHUnQyHz.js" as="script"><link rel="prefetch" href="/assets/SearchBox-BFT98H-Q.js" as="script"><link rel="prefetch" href="/assets/giscus-B3IT9xos.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-Dk6arMW_.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume vp-layout" data-v-d2201e55><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-6e23e3f5></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-6e23e3f5> Skip to content </a><!--]--><!----><div class="vp-nav" data-v-d2201e55 data-v-4dba9210><div class="vp-navbar" data-v-4dba9210 data-v-1c7dac1f><div class="wrapper" data-v-1c7dac1f><div class="container" data-v-1c7dac1f><div class="title" data-v-1c7dac1f><div class="vp-navbar-title" data-v-1c7dac1f data-v-c7a5208a><a class="vp-link link title" href="/" data-v-c7a5208a data-v-c6dd8183><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/images/logo.svg" alt data-v-c4cbef5a><!--]--><!--[--><img class="vp-image light logo" src="/images/logo.svg" alt data-v-c4cbef5a><!--]--><!--]--><!--]--><span data-v-c7a5208a></span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-1c7dac1f><div class="content-body" data-v-1c7dac1f><!--[--><!--]--><div class="vp-navbar-search search" data-v-1c7dac1f><div class="search-wrapper" data-v-3ea70040><!----><div id="local-search" data-v-3ea70040><button type="button" class="mini-search mini-search-button" aria-label="æœç´¢æ–‡æ¡£" data-v-3ea70040><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">æœç´¢æ–‡æ¡£</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-1c7dac1f data-v-3f817a56><span id="main-nav-aria-label" class="visually-hidden" data-v-3f817a56>Main Navigation</span><!--[--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/" tabindex="0" data-v-3f817a56 data-v-3b37ab5b data-v-c6dd8183><!--[--><!----><span data-v-3b37ab5b>äºŒçŒ«å­åšå®¢</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-3f817a56 data-v-3b37ab5b data-v-c6dd8183><!--[--><!----><span data-v-3b37ab5b>æ ‡ç­¾</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-3f817a56 data-v-3b37ab5b data-v-c6dd8183><!--[--><!----><span data-v-3b37ab5b>å½’æ¡£</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link link navbar-menu-link" href="/friends/" tabindex="0" data-v-3f817a56 data-v-3b37ab5b data-v-c6dd8183><!--[--><!----><span data-v-3b37ab5b>å‹é“¾</span><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-1c7dac1f data-v-46faf5ad><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-46faf5ad data-v-76b14a36 data-v-a9eb1366><span class="check" data-v-a9eb1366><span class="icon" data-v-a9eb1366><!--[--><span class="vpi-sun sun" data-v-76b14a36></span><span class="vpi-moon moon" data-v-76b14a36></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-1c7dac1f data-v-04777872 data-v-fa200f37><!--[--><a class="vp-social-link" href="https://github.com/ermaozi" aria-label="github" target="_blank" rel="noopener" data-v-fa200f37 data-v-f7358771><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-1c7dac1f data-v-753e5d3a data-v-e93158dd><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-e93158dd><span class="vpi-more-horizontal icon" data-v-e93158dd></span></button><div class="menu" data-v-e93158dd><div class="vp-menu" data-v-e93158dd data-v-239df87b><!----><!--[--><!--[--><!----><div class="group" data-v-753e5d3a><div class="item appearance" data-v-753e5d3a><p class="label" data-v-753e5d3a>å¤–è§‚</p><div class="appearance-action" data-v-753e5d3a><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-753e5d3a data-v-76b14a36 data-v-a9eb1366><span class="check" data-v-a9eb1366><span class="icon" data-v-a9eb1366><!--[--><span class="vpi-sun sun" data-v-76b14a36></span><span class="vpi-moon moon" data-v-76b14a36></span><!--]--></span></span></button></div></div></div><div class="group" data-v-753e5d3a><div class="item social-links" data-v-753e5d3a><div class="vp-social-links social-links-list" data-v-753e5d3a data-v-fa200f37><!--[--><a class="vp-social-link" href="https://github.com/ermaozi" aria-label="github" target="_blank" rel="noopener" data-v-fa200f37 data-v-f7358771><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-1c7dac1f data-v-cc4125a3><span class="container" data-v-cc4125a3><span class="top" data-v-cc4125a3></span><span class="middle" data-v-cc4125a3></span><span class="bottom" data-v-cc4125a3></span></span></button></div></div></div></div><div class="divider" data-v-1c7dac1f><div class="divider-line" data-v-1c7dac1f></div></div></div><!----></div><div class="vp-local-nav fixed reached-top is-blog" data-v-d2201e55 data-v-f47401e0><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-f47401e0><span class="vpi-align-left menu-icon" data-v-f47401e0></span><span class="menu-text" data-v-f47401e0>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-f47401e0 data-v-c937282a><button data-v-c937282a>è¿”å›é¡¶éƒ¨</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-d2201e55 data-v-fce66fdf><div class="is-blog vp-doc-container" data-v-7bfe0897><!--[--><!--]--><div class="container" data-v-7bfe0897><!----><div class="content" data-v-7bfe0897><div class="content-container" data-v-7bfe0897><!--[--><!--]--><main class="main" data-v-7bfe0897><nav class="vp-breadcrumb" data-v-7bfe0897 data-v-9d491492><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-9d491492><!--[--><li property="itemListElement" typeof="ListItem" data-v-9d491492><a class="vp-link link breadcrumb" href="/" property="item" typeof="WebPage" data-v-9d491492 data-v-c6dd8183><!--[-->é¦–é¡µ<!--]--><!----></a><span class="vpi-chevron-right" data-v-9d491492></span><meta property="position" content="1" data-v-9d491492></li><li property="itemListElement" typeof="ListItem" data-v-9d491492><a class="vp-link link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-9d491492 data-v-c6dd8183><!--[-->åšå®¢<!--]--><!----></a><span class="vpi-chevron-right" data-v-9d491492></span><meta property="position" content="2" data-v-9d491492></li><li property="itemListElement" typeof="ListItem" data-v-9d491492><a class="vp-link link breadcrumb" href="/blog/categories/?id=325369" property="item" typeof="WebPage" data-v-9d491492 data-v-c6dd8183><!--[-->æ–‡æ¡£<!--]--><!----></a><span class="vpi-chevron-right" data-v-9d491492></span><meta property="position" content="3" data-v-9d491492></li><li property="itemListElement" typeof="ListItem" data-v-9d491492><a class="vp-link link breadcrumb current" href="/article/b06gglcq/" property="item" typeof="WebPage" data-v-9d491492 data-v-c6dd8183><!--[-->docker éƒ¨ç½² aria2<!--]--><!----></a><!----><meta property="position" content="4" data-v-9d491492></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-67c9fe18>docker éƒ¨ç½² aria2</h1><div class="vp-doc-meta" data-v-67c9fe18><p class="reading-time" data-v-67c9fe18><span class="vpi-books icon" data-v-67c9fe18></span><span data-v-67c9fe18>1116å­—</span><span data-v-67c9fe18>çº¦4åˆ†é’Ÿ</span></p><p data-v-67c9fe18><span class="vpi-tag icon" data-v-67c9fe18></span><!--[--><a class="vp-link link tag vp-tag-ctu5" href="/blog/tags/?tag=nas" data-v-67c9fe18 data-v-c6dd8183><!--[-->nas<!--]--><!----></a><a class="vp-link link tag vp-tag-hqa8" href="/blog/tags/?tag=aria2" data-v-67c9fe18 data-v-c6dd8183><!--[-->aria2<!--]--><!----></a><a class="vp-link link tag vp-tag-vld9" href="/blog/tags/?tag=docker" data-v-67c9fe18 data-v-c6dd8183><!--[-->docker<!--]--><!----></a><a class="vp-link link tag vp-tag-hqa8" href="/blog/tags/?tag=websocket" data-v-67c9fe18 data-v-c6dd8183><!--[-->websocket<!--]--><!----></a><!--]--></p><p class="create-time" data-v-67c9fe18><span class="vpi-clock icon" data-v-67c9fe18></span><span data-v-67c9fe18>2024-05-09</span></p></div><!--]--><div class="vp-doc plume-content _article_b06gglcq_ external-link-icon-enabled" data-v-7bfe0897><p>docker éƒ¨ç½² Aria2 ä¸‹è½½å™¨ï¼Œå¹¶åœ¨æµè§ˆå™¨ç«¯é…ç½® Aria2 Explorer</p><h2 id="ä¸€å°æ®µåºŸè¯" tabindex="-1"><a class="header-anchor" href="#ä¸€å°æ®µåºŸè¯"><span>ä¸€å°æ®µåºŸè¯</span></a></h2><p>æˆ‘å®¶æ‰€åœ¨çš„å°åŒºè¿è¥å•†ä¸æä¾›å…¬ç½‘ipï¼Œæ‰€ä»¥åªå¥½ä½¿ç”¨å†…ç½‘ç©¿é€çš„æ–¹å¼ä»å…¬ç½‘è®¿é—®å®¶ä¸­æœåŠ¡ã€‚</p><p>æŸæ—¥æƒ³èµ·æ¥æŸ¥çœ‹äº†ä¸€ä¸‹ nps æœåŠ¡ç«¯çš„è®¾å¤‡ç›‘æ§ï¼Œ90% çš„ CPU ä½¿ç”¨ç‡å“äº†æˆ‘ä¸€è·³ã€‚ ç»æ’æŸ¥ï¼ŒåŸæ¥æ˜¯ nps æœåŠ¡èµ„æºå ç”¨è¿‡é«˜ã€‚</p><p><img src="/assets/image-B1C2nAph.png" alt="alt text"></p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆä¸€ä¸ªå°å°çš„ nps æœåŠ¡ä¼šæœ‰è¿™ä¹ˆé«˜çš„èµ„æºæ²¿ç”¨å‘¢ï¼Ÿ</p><p>åŸæ¥æ˜¯æˆ‘ä½¿ç”¨äº† <a href="https://microsoftedge.microsoft.com/addons/detail/aria2-explorer/jjfgljkjddpcpfapejfkelkbjbehagbh?hl=zh-CN" target="_blank" rel="noopener noreferrer">Aria2 Explorer</a> è¿™ä¸ªæµè§ˆå™¨æ’ä»¶æŸ¥çœ‹ä¸‹è½½è¿›åº¦ã€‚ä½†æ˜¯é…ç½®æ—¶å·æ‡’é€‰æ‹©äº† http åè®®ï¼</p><p><img src="/assets/image-1-C6yqvFqP.png" alt="alt text"></p><p>è¿™æ ·åœ¨ä½¿ç”¨ Aria2 Explorer æŸ¥çœ‹ä¸‹è½½è¿›åº¦æ—¶ï¼Œä¼šæ— é™è½®è¯¢åç«¯ Aria2 æœåŠ¡ï¼Œå¯¼è‡´ CPU å ç”¨ç‡é£™å‡ã€‚</p><p>æˆ‘èµ¶ç´§ä¿®æ”¹äº†é…ç½®ï¼Œæ”¹ä¸º ws åè®®ï¼Œæœç„¶ CPU ä½¿ç”¨ç‡ä¸‹é™äº†ã€‚</p><p>è€ƒè™‘åˆ°ä¼šæœ‰äººå’Œæˆ‘ä¸€æ ·ä½¿ç”¨ Aria2 Explorerï¼Œæ‰€ä»¥å†™äº†è¿™ç¯‡æ–‡ç« ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å¤§å®¶ã€‚</p><h2 id="éƒ¨ç½²-aria2" tabindex="-1"><a class="header-anchor" href="#éƒ¨ç½²-aria2"><span>éƒ¨ç½² Aria2</span></a></h2><h3 id="å®‰è£…-docker" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-docker"><span>å®‰è£… docker</span></a></h3><p>åœ¨ä½ çš„ä¸‹è½½æœåŠ¡å™¨ä¸Šæ‰§è¡Œä¸‹æ–¹å‘½ä»¤</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="å¤åˆ¶ä»£ç " data-copied="å·²å¤åˆ¶"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> wget</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -qO-</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://get.docker.com/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœæç¤ºæ²¡æœ‰å®‰è£… wget çš„è¯å®‰è£…ä¸€ä¸‹å°±æˆã€‚</p><h3 id="æ‹‰å–é•œåƒå¹¶è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#æ‹‰å–é•œåƒå¹¶è¿è¡Œ"><span>æ‹‰å–é•œåƒå¹¶è¿è¡Œ</span></a></h3><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="å¤åˆ¶ä»£ç " data-copied="å·²å¤åˆ¶"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> aria2</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unless-stopped</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --log-opt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> max-size=1m</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PUID=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$UID</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PGID=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$GID</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UMASK_SET=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">022</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RPC_SECRET=è‡ªå·±è®¾ç½®ä¸€ä¸ªå¯†ç </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RPC_PORT=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6800</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6800:6800</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> LISTEN_PORT=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6888</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6888:6888</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6888:6888/udp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/aria2-config:/config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ä¸‹è½½å­˜æ”¾çš„ç»å¯¹è·¯å¾„:/downloads</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    p3terx/aria2-pro</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†ä»¥ä¸Šå‘½ä»¤ä¸­ä¸­æ–‡çš„éƒ¨åˆ†æ›¿æ¢ä¸ºä½ çš„å®é™…æƒ…å†µã€‚</p><p>ä¾‹å­ï¼š</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="å¤åˆ¶ä»£ç " data-copied="å·²å¤åˆ¶"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --name</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> aria2</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unless-stopped</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    --log-opt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> max-size=1m</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PUID=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$UID</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> PGID=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">$GID</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> UMASK_SET=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">022</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RPC_SECRET=passwd</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> RPC_PORT=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6800</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6800:6800</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> LISTEN_PORT=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">6888</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6888:6888</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 6888:6888/udp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/aria2-config:/config</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">    -v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/downloads:/downloads</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    p3terx/aria2-pro</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡ŒæˆåŠŸå aria2 å°±è£…å¥½äº†ï¼Œé…ç½®æ–‡ä»¶ä¸éœ€è¦ä¿®æ”¹ã€‚</p><h2 id="å®‰è£…ä¸é…ç½®-aria2-explorer" tabindex="-1"><a class="header-anchor" href="#å®‰è£…ä¸é…ç½®-aria2-explorer"><span>å®‰è£…ä¸é…ç½® Aria2 Explorer</span></a></h2><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…"><span>å®‰è£…</span></a></h3><p>è¿™é‡Œä»¥ Edge ä¸ºä¾‹</p><p>æ‰“å¼€ç½‘å€ï¼š<a href="https://microsoftedge.microsoft.com/addons/detail/aria2-explorer/jjfgljkjddpcpfapejfkelkbjbehagbh?hl=zh-CN" target="_blank" rel="noopener noreferrer">aria2-explorer</a></p><p>ç‚¹å‡»è·å–</p><p><img src="/assets/image-2-C_DEbkhZ.png" alt="alt text"></p><p>ç‚¹å‡»æ·»åŠ æ‰©å±•</p><p><img src="/assets/image-3-1YhQqq3c.png" alt="alt text"></p><h3 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®"><span>é…ç½®</span></a></h3><p><img src="/assets/image-4-CbScWuwR.png" alt="alt text"></p><p><code>Secret Key</code> æ˜¯ä½ åœ¨ docker run æ—¶è®¾ç½®çš„ <code>RPC_SECRET</code></p><p><code>RPC URL</code> æ˜¯ä½  aria2 æœåŠ¡å™¨çš„å…¬ç½‘ IPï¼Œç«¯å£æ˜¯ä½ åœ¨ docker run æ—¶è®¾ç½®çš„ <code>RPC_PORT</code>ï¼Œåè®®ä½¿ç”¨ <code>ws</code> æˆ– <code>wss</code> ç»“å°¾éœ€è¦åŠ ä¸Š <code>/jsonrpc</code></p><p><code>RPC URL</code> ä¾‹å­ï¼š<code>ws://10.102.3.243:6800/jsonrpc</code></p><p>é…ç½®å®Œæˆåç‚¹å‡»ä¿å­˜ï¼Œå¦‚æœæ˜¯ä½¿ç”¨æœåŠ¡å™¨å…¬ç½‘ipçš„æƒ…å†µå°±å·²ç» OK äº†ã€‚</p><p>å¦‚æœæ˜¯ä½¿ç”¨å†…ç½‘ç©¿é€ä¸”ä½¿ç”¨ nginx åšäº†åå‘ä»£ç†çš„è¯ï¼Œé€šè¿‡åŸŸåæ˜¯æ— æ³•ç›´æ¥ä½¿ç”¨ ws çš„ã€‚è¿™ç§æƒ…å†µæˆ‘ä»¬æ¥ç€å¾€ä¸‹çœ‹ã€‚</p><h2 id="ä½¿ç”¨å†…ç½‘ç©¿é€çš„æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å†…ç½‘ç©¿é€çš„æƒ…å†µ"><span>ä½¿ç”¨å†…ç½‘ç©¿é€çš„æƒ…å†µ</span></a></h2><h3 id="é…ç½®-nginx" tabindex="-1"><a class="header-anchor" href="#é…ç½®-nginx"><span>é…ç½® nginx</span></a></h3><p>åœ¨åå‘ä»£ç†æœåŠ¡å™¨ï¼ˆå†…ç½‘ç©¿é€ä¸­è½¬æœåŠ¡å™¨ï¼‰é…ç½® nginx</p><p>åœ¨<code>http</code>åŒºå—ä¸‹åŠ å…¥å¦‚ä¸‹é…ç½®ï¼Œæ³¨æ„ä¿®æ”¹åŸŸåå’Œç«¯å£ï¼Œéœ€è¦ä¿®æ”¹çš„åœ°æ–¹åŠ äº†å¤‡æ³¨ï¼šã€æŒ‰å®é™…æƒ…å†µæ¥å†™ã€‘</p><div class="language-nginx line-numbers-mode" data-ext="nginx" data-title="nginx"><button class="copy" title="å¤åˆ¶ä»£ç " data-copied="å·²å¤åˆ¶"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># aria2</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">upstream</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> aria2 </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    least_conn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> 127.0.0.1:26800 </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">weight</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> max_fails=5 </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">fail_timeout</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 26800 æ˜¯å†…ç½‘ç©¿é€å¯¹å…¬ç½‘æš´éœ²çš„ç«¯å£ã€æŒ‰å®é™…æƒ…å†µæ¥å†™ã€‘</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    listen </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">80</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    listen </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">443</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ssl http2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    server_name </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">aria2.example.com</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # aria2.example.com æ˜¯ç»™ aria2 é…ç½®çš„åŸŸåã€æŒ‰å®é™…æƒ…å†µæ¥å†™ã€‘</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server_port</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> !~ </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">443){</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        rewrite</span><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;"> ^(/.*)$</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> https://</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> permanent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_certificate </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /etc/nginx/ssl/aria2.example.com.cer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_certificate_key </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> /etc/nginx/ssl/aria2.example.com.key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # ä¸Šé¢ä¸¤æ¡æ˜¯ä½ åŸŸåçš„è¯ä¹¦å­˜æ”¾çš„ç»å¯¹è·¯å¾„ã€æŒ‰å®é™…æƒ…å†µæ¥å†™ã€‘</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_protocols </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">TLSv1.1 TLSv1.2 TLSv1.3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_ciphers </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_prefer_server_ciphers on</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_session_cache </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">shared:SSL:10m</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    ssl_session_timeout </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10m</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    add_header </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Strict-Transport-Security </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;max-age=31536000&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    location</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> / </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">{</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_pass </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">http://aria2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_http_version </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1.1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_redirect </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    off</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_set_header </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  Host             </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">host</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_set_header </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  X-Real-IP        </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">remote_addr</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_set_header </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  X-Forwarded-For  </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">proxy_add_x_forwarded_for</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_set_header </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  Upgrade          </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">http_upgrade</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_set_header </span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  Connection       </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;Upgrade&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_next_upstream error</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> timeout invalid_header http_500 http_502 http_503 http_504</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_max_temp_file_size </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_connect_timeout </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">     1800</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">     #nginxä¸upstream serverçš„è¿æ¥è¶…æ—¶æ—¶é—´(å•ä½ï¼šs)</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_send_timeout </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        1800</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">     #nginxå‘é€æ•°æ®è‡³ upstream serverè¶…æ—¶, é»˜è®¤60s, å¦‚æœè¿ç»­çš„60så†…æ²¡æœ‰å‘é€1ä¸ªå­—èŠ‚, è¿æ¥å…³é—­</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_read_timeout </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">        1800</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #nginxæ¥æ”¶ upstream serveræ•°æ®è¶…æ—¶, é»˜è®¤60s, å¦‚æœè¿ç»­çš„60så†…æ²¡æœ‰æ”¶åˆ°1ä¸ª å­—èŠ‚, è¿æ¥å…³é—­</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_buffer_size </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">         4k</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">       #ä»£ç†è¯·æ±‚ç¼“å­˜åŒº_è¿™ä¸ªç¼“å­˜åŒºé—´ä¼šä¿å­˜ç”¨æˆ·çš„å¤´ä¿¡æ¯ä»¥ä¾›Nginxè¿›è¡Œè§„åˆ™å¤„ç†_ä¸€ èˆ¬åªè¦èƒ½ä¿å­˜ä¸‹å¤´ä¿¡æ¯å³å¯</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_buffers </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">             4</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 32k</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    #åŒä¸Š å‘Šè¯‰Nginxä¿å­˜å•ä¸ªç”¨çš„å‡ ä¸ªBufferæœ€å¤§ç”¨å¤šå¤§ç©ºé—´      </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        proxy_busy_buffers_size </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">   64k</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      #å¦‚æœç³»ç»Ÿå¾ˆå¿™çš„æ—¶å€™å¯ä»¥ç”³è¯·æ›´å¤§çš„proxy_buffers å®˜æ–¹æ¨è*2            proxy_temp_file_write_size 64k;   #proxyç¼“å­˜ä¸´æ—¶æ–‡ä»¶çš„å¤§å°</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®æˆåŠŸåé‡è½½ nginx å°± OK äº†</p></div></main><footer class="vp-doc-footer" data-v-7bfe0897 data-v-d5dc4237><!--[--><!--]--><!----><div class="contributors" data-v-d5dc4237><span class="contributors-label" data-v-d5dc4237>è´¡çŒ®è€…: </span><span class="contributors-info" data-v-d5dc4237><!--[--><!--[--><span class="contributor" data-v-d5dc4237>ermaozi</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-d5dc4237><div class="pager" data-v-d5dc4237><a class="vp-link link pager-link prev" href="/article/vgf2ez1r/" data-v-d5dc4237 data-v-c6dd8183><!--[--><span class="desc" data-v-d5dc4237>ä¸Šä¸€é¡µ</span><span class="title" data-v-d5dc4237>TrueNASè™šæ‹Ÿæœºå¤‡ä»½</span><!--]--><!----></a></div><div class="pager" data-v-d5dc4237><a class="vp-link link pager-link next" href="/article/yifph1jd/" data-v-d5dc4237 data-v-c6dd8183><!--[--><span class="desc" data-v-d5dc4237>ä¸‹ä¸€é¡µ</span><span class="title" data-v-d5dc4237>ä½¿ç”¨Vimä¸Šç­çœ‹å°è¯´</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-7bfe0897><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!--[--><!--]--></div></div></div></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-d2201e55 data-v-5dfb49a1><span class="percent" data-v-5dfb49a1>0%</span><span class="show icon vpi-back-to-top" data-v-5dfb49a1></span><svg aria-hidden="true" data-v-5dfb49a1><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-5dfb49a1></circle></svg></button><footer class="vp-footer" data-v-d2201e55 data-v-05739f4f><div class="container" data-v-05739f4f><p class="message" data-v-05739f4f>Â© 2024 äºŒçŒ«å­ ğŸ“§ <a href='mailto:admin@ermao.net'>admin@ermao.net</a></p><!----></div></footer><!--[--><!--]--><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-_Bzduk7I.js" defer></script></body></html>